# =============================================================================
# CBLOL Fantasy Bot Configuration Template
# Copy this file to .env and fill in your values
# =============================================================================

# Required: Telegram Bot Configuration
BOT_TOKEN=your_telegram_bot_token_here
ALLOWED_USER_ID=your_telegram_user_id

# Required: CBLOL Fantasy API Authentication  
X_SESSION_TOKEN=your_cblol_fantasy_session_token

# Optional: Your User Team ID (for cleaner round data, bypasses API bugs)
# Get this from https://cblol.gg or from the bot's ranking output
USER_TEAM_ID=your_user_team_id_here

# Optional: Universal Polling Configuration
POLL_SECS=30              # Base polling interval for all phases (PRE_MARKET, LIVE, market close detection)
MAX_STALE_POLLS=5         # Number of consecutive unchanged polls before triggering backoff
BACKOFF_MULTIPLIER=1.5    # Multiply interval by this factor during backoff (applied to all phases)
MAX_POLL_SECS=900         # Maximum poll interval during backoff (15 minutes)
LOG_LEVEL=INFO

# Optional: Champion Configuration (League of Legends champion name mapping)
CHAMPION_API_URL=https://ddragon.leagueoflegends.com/cdn/16.1.1/data/en_US/champion.json
CHAMPION_CACHE_TTL=86400  # Champion data cache duration in seconds (24 hours default)
CHAMPION_API_TIMEOUT=10   # Champion API request timeout in seconds

# Optional: API Endpoint Configuration
# Set to direct API URL or your Cloudflare Worker URL
# Default: https://api.cblol.gg (direct API)
# For VPS with Cloudflare challenges: https://your-worker.workers.dev
# For testing with Wiremock: http://127.0.0.1:8080
LTA_API_URL=https://api.cblol.gg

# Optional: Cloudflare Worker Deployment (using Wrangler CLI)
# No additional environment variables needed - Wrangler handles authentication

# =============================================================================
# How to get these values:
#
# BOT_TOKEN: 
#   1. Message @BotFather on Telegram
#   2. Create a new bot with /newbot
#   3. Copy the token
#
# ALLOWED_USER_ID:
#   1. Message @userinfobot on Telegram
#   2. Copy your user ID number
#
# X_SESSION_TOKEN:
#   1. Log into https://cblol.gg
#   2. Open Developer Tools (F12)
#   3. Go to Network tab, refresh page
#   4. Find request to api.cblol.gg
#   5. Copy the x-session-token header value
#
# USER_TEAM_ID:
#   1. Run any ranking command (e.g., /scores) to see team IDs in logs
#   2. Or check the URL when viewing your team: https://cblol.gg/teams/{USER_TEAM_ID}
#
# CLOUDFLARE_WORKER_URL:
#   1. Deploy worker.js using: npm run deploy
#   2. Copy the worker URL and set it as LTA_API_URL
# =============================================================================
